{% extends 'base.html' %}
{% load static %}

{% block title %}Sofía [tori] · Desarrolladora Full Stack{% endblock %}
{% block meta_description %}Portafolio de Sofía Lagos [tori] - Desarrolladora Full Stack Python especializada en Django y desarrollo web.{% endblock %}

{% block content %}

<!-- SECCIÓN HERO -->
<section id="inicio" class="hero-section">
  <div class="container-aligned">
    <div class="row">
      <div class="col-lg-8">
        {% if perfil %}
        <h1 class="display-4 mb-4">Hola, soy {{ perfil.nombre_completo }} [{{ perfil.apodo }}] &#x2734;&#xFE0E;</h1>
        <h5 class="mb-4">{{ perfil.titulo }}</h5>
        <p class="mb-5">{{ perfil.descripcion|linebreaks }}</p>
        {% else %}
        <h1 class="display-4 mb-4">Hola, soy Sofía [tori] &#x2734;&#xFE0E;</h1>
        <h5 class="mb-4">desarrolladora full stack python · artista visual</h5>
        <p class="mb-5">
          Me llamo Sofía Lagos, pero me conocen más como Tori, soy artista de profesión y desarrolladora en formación.
          Me apasiona crear experiencias web completas.
        </p>
        {% endif %}
        <div class="d-flex gap-3 flex-wrap mb-4">
          <a href="#proyectos" class="btn-personalizado">Ver mis proyectos</a>
          <a href="#contacto" class="btn-personalizado">Contáctame</a>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SECCIÓN PROYECTOS DESTACADOS -->
<section id="proyectos" class="py-5">
  <div class="container-aligned">
    <div class="row mb-5">
      <div class="col-12">
        <h2 class="display-5 section-title">&#x2734;&#xFE0E;· mis proyectos destacados</h2>
        <p class="text-black">Estos son algunos proyectos en los que he estado trabajando</p>
      </div>
    </div>

    <div class="row justify-content-center g-4">
      {% for proyecto in proyectos_destacados %}
        {% include 'partials/_proyecto_card.html' %}
      {% empty %}
      <div class="col-12">
        <p class="text-center text-muted">No hay proyectos disponibles. <a href="/admin/">Agregar proyectos</a></p>
      </div>
      {% endfor %}
    </div>

    <!-- Botón Ver más proyectos -->
    {% if otros_proyectos_count > 0 %}
    <div class="row mt-5">
      <div class="col-12 text-center">
        <a href="{% url 'todos_proyectos' %}" class="btn-personalizado">
          <i class="fas fa-arrow-right"></i> Ver más proyectos ({{ otros_proyectos_count }})
        </a>
      </div>
    </div>
    {% endif %}
  </div>
</section>

<!-- SECCIÓN HABILIDADES -->
<section id="habilidades" class="py-5">
  <div class="container-aligned">
    <div class="row mb-5">
      <div class="col-12">
        <h2 class="display-5 section-title">mis habilidades ·&#x2734;&#xFE0E;</h2>
        <p class="text-black">lo que estoy aprendiendo y desarrollando</p>
      </div>
    </div>
    <div class="row g-4">
      <div class="col-md-6">
        <div class="skill-card">
          <h4 class="text-cyber mb-4">[ habilidades técnicas ]</h4>
          <div class="code-tags">
            {% for habilidad in habilidades_tecnicas %}
            <div class="code-tag">{{ habilidad.icono }} {{ habilidad.nombre }}</div>
            {% empty %}
            <p class="text-muted">No hay habilidades técnicas. <a href="/admin/">Agregar habilidades</a></p>
            {% endfor %}
          </div>
        </div>
      </div>

      <div class="col-md-6">
        <div class="skill-card">
          <h4 class="text-cyber mb-4">[ habilidades personales ]</h4>
          <div class="skill-list">
            {% for habilidad in habilidades_personales %}
            <div class="skill-item">
              <div class="skill-icon">{{ habilidad.icono }}</div>
              <span>{{ habilidad.nombre }}</span>
            </div>
            {% empty %}
            <p class="text-muted">No hay habilidades personales. <a href="/admin/">Agregar habilidades</a></p>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- SECCIÓN CONTACTO -->
<section id="contacto" class="py-5">
  <div class="container-aligned">
    <div class="row">
      <div class="col-12">
        <h2 class="display-5 section-title mb-5">contáctame</h2>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <form method="POST">
          {% csrf_token %}
          
          <div class="mb-3">
            {{ form.nombre.label_tag }}
            {{ form.nombre }}
          </div>

          <div class="mb-3">
            {{ form.email.label_tag }}
            {{ form.email }}
          </div>

          <div class="mb-3">
            {{ form.mensaje.label_tag }}
            {{ form.mensaje }}
          </div>
          
          <button type="submit" class="btn-personalizado">Enviar</button>
        </form>
      </div>
      
      <div class="col-md-6 text-center d-none d-md-flex align-items-center justify-content-center">
        <div class="contacto-ilustracion-container">
          {% if perfil.ilustracion_contacto %}
          <img src="{{ perfil.ilustracion_contacto.url }}" class="contacto-ilustracion" alt="Ilustración de contacto">
          {% else %}
          <img src="{% static 'img/dibujo.svg' %}" class="contacto-ilustracion" alt="Ilustración de contacto">
          {% endif %}
        </div>
      </div>
    </div>
  </div>
</section>

{% endblock %}

{% block modals %}
<!-- MODALES DE PROYECTOS -->
{% for proyecto in proyectos_destacados %}
  {% include 'partials/_proyecto_modal.html' %}
{% endfor %}
{% endblock %}